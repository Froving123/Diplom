(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{7482:function(e,s,r){Promise.resolve().then(r.bind(r,9804))},9804:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return y}});var t=r(3827),l=r(9877),i=r.n(l),n=r(4090),a=r(8792),c=r(3105),_=r(2730),d=r(1748),u=r(6312),o=r.n(u);let v=()=>{let[e,s]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{let e=c.I.currentUser;if(e){let r=(0,d.iH)(c.db,"reserv"),t=(0,d.IO)(r,(0,d.g2)("userId"),(0,d.EW)(e.uid));try{let e=await (0,d.U2)(t);if(e.exists()){let r=[];e.forEach(e=>{r.push({id:e.key,...e.val()})}),s(r)}else console.log("Данные не найдены")}catch(e){console.error("Ошибка при получении данных: ",e)}}})()},[]),(0,t.jsxs)("div",{className:o().reservation,children:[(0,t.jsx)("h2",{className:o().title_reserv,children:"Ваше бронирование"}),e.length>0?(0,t.jsx)("ul",{className:o().ul_reserv,children:e.map(e=>(0,t.jsxs)("li",{className:o().li_reserv,children:[(0,t.jsxs)("p",{className:o().reserv_description,children:["Дата: ",e.date]}),(0,t.jsxs)("p",{className:o().reserv_description,children:["Время: ",e.time]})]},e.id))}):(0,t.jsx)("ul",{className:o().ul_reserv,children:(0,t.jsx)("p",{className:o().reserv_empty,children:"У вас нет бронирования"})})]})};var p=r(3090),h=r.n(p);let f=()=>{let[e,s]=(0,n.useState)([]),[r,l]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{let e=c.I.currentUser;if(e){let r=(0,d.iH)(c.db,"delivery"),t=(0,d.IO)(r,(0,d.g2)("userId"),(0,d.EW)(e.uid));try{let e=await (0,d.U2)(t);if(e.exists()){let r=[];e.forEach(e=>{r.push({id:e.key,...e.val()})}),s(r)}else console.log("Данные не найдены")}catch(e){console.error("Ошибка при получении данных: ",e)}}})()},[]),(0,n.useEffect)(()=>{(async()=>{let e=c.I.currentUser;if(e){let s=(0,d.iH)(c.db,"product"),r=(0,d.IO)(s,(0,d.g2)("userId"),(0,d.EW)(e.uid));try{(0,d.jM)(r,e=>{if(e.exists()){let s=[];e.forEach(e=>{s.push({id:e.key,...e.val()})}),l(s)}else console.log("Данные не найдены")})}catch(e){console.error("Ошибка при получении данных: ",e)}}})()},[]),(0,t.jsxs)("div",{className:h().Delivery,children:[(0,t.jsx)("h2",{className:h().title_delivery,children:"Ваши текущие заказы"}),e.length>0?(0,t.jsx)("ul",{className:h().ul_delivery,children:e.map(e=>(0,t.jsxs)("li",{className:h().li_delivery,children:[(0,t.jsxs)("p",{className:h().delivery_description,children:["Адрес: ",e.address]}),(0,t.jsx)("p",{className:h().delivery_description,children:"Оплата: При получении"}),(0,t.jsxs)("p",{className:h().delivery_description,children:["Стоимость заказа: ",e.price,"₽"]})]},e.id))}):(0,t.jsx)("ul",{className:h().ul_delivery,children:(0,t.jsx)("p",{className:h().delivery_empty,children:"Сейчас у вас нет заказов"})})]})};var y=()=>{let[e,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=(0,_.Aj)(c.I,e=>{e?s(e):s(null)});return()=>{e()}},[]),(0,t.jsx)("div",{className:i().str_profile,children:e?(0,t.jsxs)("div",{className:i().profile,children:[(0,t.jsx)("p",{className:i().user,children:"Пользователь ".concat(e.email)}),(0,t.jsx)(v,{}),(0,t.jsx)(f,{}),(0,t.jsx)(a.default,{href:"/",children:(0,t.jsx)("button",{className:i().button_logOut,onClick:function(){(0,_.w7)(c.I).then(()=>console.log("success")).catch(e=>console.log(e))},children:"Выйти"})})]}):""})}},3105:function(e,s,r){"use strict";r.d(s,{I:function(){return a},db:function(){return c}});var t=r(6142),l=r(2730),i=r(1748);let n=(0,t.ZF)({apiKey:"AIzaSyDO_-hjElfDwtU1ESVRSFt8hZJ7IIMwlno",authDomain:"best-rest-99119.firebaseapp.com",databaseURL:"https://best-rest-99119-default-rtdb.europe-west1.firebasedatabase.app",projectId:"best-rest-99119",storageBucket:"best-rest-99119.appspot.com",messagingSenderId:"90112321750",appId:"1:90112321750:web:2be2a6ea307df81f7b8177"}),a=(0,l.v0)(n),c=(0,i.N8)(n)},8792:function(e,s,r){"use strict";r.d(s,{default:function(){return l.a}});var t=r(5250),l=r.n(t)},9877:function(e){e.exports={str_profile:"AuthDetails_str_profile__jwcKg",profile:"AuthDetails_profile__pvzwh",user:"AuthDetails_user__4v7Qu",button_logOut:"AuthDetails_button_logOut___dACP"}},3090:function(e){e.exports={delivery:"Delivery_user_delivery__Iy0Ab",title_delivery:"Delivery_user_title_delivery__CHzyn",ul_delivery:"Delivery_user_ul_delivery__bVOH1",li_delivery:"Delivery_user_li_delivery__TfImB",delivery_description:"Delivery_user_delivery_description__1_J8i",delivery_empty:"Delivery_user_delivery_empty__EqYxq"}},6312:function(e){e.exports={reservation:"Reservations_reservation__kXcCa",title_reserv:"Reservations_title_reserv__mkNY_",ul_reserv:"Reservations_ul_reserv__Dd1ny",li_reserv:"Reservations_li_reserv__q0HSb",reserv_description:"Reservations_reserv_description__og4rs",reserv_empty:"Reservations_reserv_empty__7BzcJ"}}},function(e){e.O(0,[481,807,168,250,971,69,744],function(){return e(e.s=7482)}),_N_E=e.O()}]);